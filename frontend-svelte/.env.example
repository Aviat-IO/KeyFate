# =============================================================================
# KeyFate SvelteKit - Environment Variables
# =============================================================================
# Copy this file to .env.local and fill in the values.
# Variables prefixed with PUBLIC_ are exposed to the browser.
# All others are server-side only.
#
# On Railway, set these as service variables in the Railway dashboard.
# DATABASE_URL is automatically provided by the Railway PostgreSQL plugin.
# =============================================================================

# --- Database ----------------------------------------------------------------
# Railway provides this automatically when you add a PostgreSQL plugin.
# For local dev, use docker-compose postgres.
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/keyfate_dev

# --- Auth (Auth.js / @auth/sveltekit) ----------------------------------------
# AUTH_SECRET is the preferred env var name for Auth.js v5.
# NEXTAUTH_URL is still read for backwards compatibility.
AUTH_SECRET=generate-a-random-secret-at-least-32-chars
NEXTAUTH_URL=http://localhost:5173

# Google OAuth
AUTH_GOOGLE_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_SECRET=your-google-client-secret

# --- Stripe ------------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# --- Email (SendGrid) -------------------------------------------------------
SENDGRID_API_KEY=SG....
SENDGRID_ADMIN_EMAIL=admin@keyfate.com
SENDGRID_SENDER_NAME=KeyFate

# --- SMTP (alternative to SendGrid) -----------------------------------------
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=
# SMTP_PASS=
# SMTP_SENDER_NAME=KeyFate
# SMTP_SENDER_EMAIL=
# SMTP_PROVIDER=sendgrid

# --- Encryption --------------------------------------------------------------
ENCRYPTION_KEY=generate-a-random-encryption-key

# --- BTCPay Server (optional) ------------------------------------------------
# BTCPAY_SERVER_URL=
# BTCPAY_API_KEY=
# BTCPAY_STORE_ID=
# BTCPAY_WEBHOOK_SECRET=

# --- Cron / Admin ------------------------------------------------------------
CRON_SECRET=generate-a-random-cron-secret
# Set to "false" to disable the in-app cron scheduler (e.g. for local dev)
# CRON_ENABLED=false
ADMIN_TOKEN=generate-a-random-admin-token
# ADMIN_ALLOWED_IPS=

# --- Cloudflare Turnstile (optional) -----------------------------------------
# TURNSTILE_SECRET_KEY=

# --- Public (browser-accessible) variables -----------------------------------
PUBLIC_SITE_URL=http://localhost:5173
PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_...
PUBLIC_SUPPORT_EMAIL=support@keyfate.com
PUBLIC_COMPANY=KeyFate
PUBLIC_PARENT_COMPANY=Aviat, LLC
PUBLIC_ENV=development
PUBLIC_AUTH_PROVIDER=google
# PUBLIC_BTCPAY_SERVER_URL=

# --- Server port (Railway sets PORT automatically) ---------------------------
# PORT=3000

# --- Database connection tuning (optional) -----------------------------------
# DB_POOL_MAX=20
# DB_POOL_MIN=5
# DB_IDLE_TIMEOUT=600
# DB_CONNECT_TIMEOUT=15
# DB_STATEMENT_TIMEOUT=30000
# DEBUG_DB=false
# DB_DEBUG=false
